---
const { blok } = Astro.props;
const logos = blok.logos || [];
---

<script is:inline>
  // Optional: du kannst hier später z. B. pausieren bei Hover
</script>

<style>
  @keyframes infinite-scroll {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-100%);
    }
  }

  .scrolling-wrapper {
    display: flex;
    width: max-content;
    animation: infinite-scroll 60s linear infinite;
  }
</style>

<section class="py-12 sm:py-20">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    {
      blok.title && (
        <h2 class="text-3xl sm:text-4xl font-extrabold text-white mb-4">
          {blok.title}
        </h2>
      )
    }
    {
      blok.subtitle && (
        <p class="text-lg sm:text-xl text-zinc-400 mb-10 max-w-3xl mx-auto">
          {blok.subtitle}
        </p>
      )
    }
  </div>

  <div class="overflow-hidden w-full">
    <div class="scrolling-wrapper">
      {
        [...Array(3)]
          .flatMap(() => logos)
          .map((logo, index) => (
            <img
              src={logo.filename}
              alt={logo.alt || `Logo ${index}`}
              class="h-12 mx-8 transition duration-300 object-contain"
              loading="lazy"
            />
          ))
      }
    </div>
  </div>
</section>
